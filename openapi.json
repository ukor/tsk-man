{"openapi":"3.0.0","paths":{"/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/v1/auth/sign-up/email":{"post":{"operationId":"AuthController_setEmailAndPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterSetEmailAndPassword"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetEmailAndPasswordHttpResponse"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDefaultResponse"}}}}},"tags":["auth"],"security":[{"uid":[]}]}},"/v1/auth/verify/email":{"post":{"operationId":"AuthController_verifyEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyPhoneNumberOrEmailAddressDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpVerificationHttpResponse"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDefaultResponse"}}}}},"tags":["auth"],"security":[{"uid":[]},{"bearer":[]}]}},"/v1/auth/login/request":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginHttpResponse"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDefaultResponse"}}}}},"tags":["auth"],"security":[{"uid":[]}]}},"/v1/auth/login/2fa-verification":{"post":{"operationId":"AuthController_verifyLogin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyPhoneNumberOrEmailAddressDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpVerificationHttpResponse"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDefaultResponse"}}}}},"tags":["auth"],"security":[{"uid":[]},{"bearer":[]}]}},"/v1/auth/logout/kill-session":{"delete":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutHttpReponse"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDefaultResponse"}}}}},"tags":["auth"],"security":[{"uid":[]},{"bearer":[]}]}}},"info":{"title":"tsk-man API","description":"","version":"0.0.1","contact":{}},"tags":[{"name":"x-service-port","description":"3083"}],"servers":[],"components":{"securitySchemes":{"uid":{"type":"apiKey","name":"x-uid","in":"header"},"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UserDeviceDto":{"type":"object","properties":{"type":{"type":"string","example":"mobile","description":"Type of the device (e.g., mobile, desktop)"},"ip":{"type":"string","example":"user Ip","description":"user Ip address"},"model":{"type":"string","example":"iPhone 12","description":"Model of the device"},"os":{"type":"string","example":"iOS","description":"Operating system of the device"},"osVersion":{"type":"string","example":"12","description":"Operating system version of the device"},"serialNumber":{"type":"string","example":"123456789","description":"Serial number of the device"},"manufacturer":{"type":"string","example":"Apple","description":"Manufacturer of the device"},"isPhysicalDevice":{"type":"boolean","example":false},"packageName":{"type":"string","example":"com.tsk-man.user"},"appVersion":{"type":"string","example":"v1.0.2"}}},"RegisterSetEmailAndPassword":{"type":"object","properties":{"emailAddr":{"type":"string","example":"test@gmail.com","description":"The email of the User","format":"email","uniqueItems":true,"minLength":5,"maxLength":255},"password":{"type":"string","example":"secret password change me!","description":"The password of the User","format":"string","minLength":6,"maxLength":32},"confirmPassword":{"type":"string","example":"secret password change me!","description":"The password of the User","format":"string","minLength":6,"maxLength":32},"firstName":{"type":"string","example":"Kamsi","format":"string","minLength":2},"lastName":{"type":"string","example":"Mofe","format":"string","minLength":2},"deviceDetails":{"description":"An Object mapping user device details to it corresponding details","allOf":[{"$ref":"#/components/schemas/UserDeviceDto"}]}},"required":["emailAddr","password","confirmPassword","firstName","lastName","deviceDetails"]},"SetEmailAndPasswordResponse":{"type":"object","properties":{"token":{"type":"string"},"userId":{"type":"string"},"next":{"type":"string","enum":["email_verification","t2fa","dashboard"]}},"required":["token","userId","next"]},"SetEmailAndPasswordHttpResponse":{"type":"object","properties":{"isError":{"type":"boolean","description":"Indicates if the request was successful or an error"},"description":{"type":"string","description":"A details error message for developers. Will be an empty string in production"},"context":{"type":"string"},"message":{"type":"boolean","description":"A friendly message for the user. In a error it gives the user information about the error and how to resolve the errors"},"payload":{"nullable":true,"description":"A distionary that maps the body of the response to it coressponding values","allOf":[{"$ref":"#/components/schemas/SetEmailAndPasswordResponse"}]}},"required":["isError","description","context","message","payload"]},"HttpDefaultResponse":{"type":"object","properties":{"isError":{"type":"boolean","description":"Indicates if the request was successful or an error"},"description":{"type":"string","description":"A details error message for developers. Will be an empty string in production"},"context":{"type":"string"},"message":{"type":"boolean","description":"A friendly message for the user. In a error it gives the user information about the error and how to resolve the errors"},"payload":{"type":"object","nullable":true,"description":"A distionary that maps the body of the response to it coressponding values"}},"required":["isError","description","context","message","payload"]},"VerifyPhoneNumberOrEmailAddressDto":{"type":"object","properties":{"otp":{"type":"string","example":"otp","description":"A six digit character that was sent to the identity been verified"},"identity":{"type":"string","example":"+23408020144002 || example@gmail.com","description":"The phone number or email address been verified"},"userId":{"type":"string","description":"A string representation for identifing user"},"deviceDetails":{"description":"An Object mapping user device details to it corresponding details","allOf":[{"$ref":"#/components/schemas/UserDeviceDto"}]}},"required":["otp","identity","userId","deviceDetails"]},"OtpVerificationResponse":{"type":"object","properties":{"token":{"type":"string","description":"Json Web Token for validating next step validation "},"userId":{"type":"string","description":"User Identifier"},"next":{"type":"string","enum":["email_verification","t2fa","dashboard"],"description":"The next step/screen that should be shown to the user on the client"}},"required":["token","userId","next"]},"OtpVerificationHttpResponse":{"type":"object","properties":{"isError":{"type":"boolean","description":"Indicates if the request was successful or an error"},"description":{"type":"string","description":"A details error message for developers. Will be an empty string in production"},"context":{"type":"string"},"message":{"type":"boolean","description":"A friendly message for the user. In a error it gives the user information about the error and how to resolve the errors"},"payload":{"nullable":true,"description":"A distionary that maps the body of the response to it coressponding values","allOf":[{"$ref":"#/components/schemas/OtpVerificationResponse"}]}},"required":["isError","description","context","message","payload"]},"LoginRequest":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com"},"password":{"type":"string","example":"qaws3ed!"},"device":{"description":"Details about the device this user is making request from","allOf":[{"$ref":"#/components/schemas/UserDeviceDto"}]}},"required":["email","password","device"]},"LoginResponse":{"type":"object","properties":{"token":{"type":"string"},"userId":{"type":"string"},"next":{"type":"string","enum":["email_verification","t2fa","dashboard"]}},"required":["token","userId","next"]},"LoginHttpResponse":{"type":"object","properties":{"isError":{"type":"boolean","description":"Indicates if the request was successful or an error"},"description":{"type":"string","description":"A details error message for developers. Will be an empty string in production"},"context":{"type":"string"},"message":{"type":"boolean","description":"A friendly message for the user. In a error it gives the user information about the error and how to resolve the errors"},"payload":{"nullable":true,"description":"A distionary that maps the body of the response to it coressponding values","allOf":[{"$ref":"#/components/schemas/LoginResponse"}]}},"required":["isError","description","context","message","payload"]},"LogoutHttpReponse":{"type":"object","properties":{"isError":{"type":"boolean","description":"Indicates if the request was successful or an error"},"description":{"type":"string","description":"A details error message for developers. Will be an empty string in production"},"context":{"type":"string"},"message":{"type":"boolean","description":"A friendly message for the user. In a error it gives the user information about the error and how to resolve the errors"},"payload":{"type":"object","nullable":true,"description":"boolean value representing if the session was successfully killed"}},"required":["isError","description","context","message","payload"]}}}}